# Session 2026-01-09-3

## Post-Processing Feature - Brainstorming Complete

### Context:
- User wants to add LLM post-processing to clean up transcription output
- Key problems to solve: hallucination loops, speaker fragmentation, bad formatting
- readme.md contains initial research with prompts and approach ideas

### Decisions Made:
1. **Providers**: Gemini (default) + OpenRouter
2. **Trigger**: Manual button click (not automatic)
3. **Output**: Separate `transcript_cleaned.json` (preserves original)
4. **Templates**: 3 defaults (IT Meeting 0.2, Interview 0.3, Business Call 0.2) + custom
5. **Template storage**: JSON files in `~/.transcribeflow/templates/`
6. **Models config**: `~/.transcribeflow/llm_models.json` with pricing
7. **Cost tracking**: Tokens in/out + USD (if price configured)
8. **History**: Database table `llm_operations` + per-transcript log
9. **UI**: Sticky header, template dropdown, side-by-side comparison
10. **Comparison**: Timestamp-aligned rows + synced scrolling
11. **Re-processing**: Confirm dialog before overwrite
12. **No chunking**: 1M context handles any meeting

### Files:
- `docs/backlog/04-post-processing/design.md` (created)

### Result:
- Design document complete
- Ready for implementation planning

